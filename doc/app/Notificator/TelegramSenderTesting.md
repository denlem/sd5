# Тестирование отправки уведомления в телеграм

## 1. Создать телеграм бот
   Уже создан. Для создания нового бота инструкцию по созданию бота смотри по ссылкам в материалах ниже
## 2. Получить требуемые доступы
   Создан тестовый бот который можно использовать для проекта

       t.me/test_myit  - аккаунт бота (bot name)
       t.me/test_myit_bot - сам бот (bot username) 
       t.me/test_myit_bot_chat - чат бота, 
       Bot token: 6286886734:AAHDn9HLwp9ZflgDdDRMliKQTgDL1Gskwl0
       Chat id: -950365777 

  Можно добавиться в этот бот и чат бота, чтобы тестировать нотификации. 
  Также можно легко создать своего бота и чат бота, используя материалы ниже. 

## 3. Прописать доступы в настройках проекта для телеграм бота
   Настройки бота прописаны в файле .env . Для локального проекта можно добавить токен бота в этот файл
    
## 4. Подготовить среду проекта и код для тестирования уведомлений
###  a) Запустить в консоли слушателя очереди RabbitMQ
   См. документацию по RabbitMQ [doc/app/RabbitMQ/readme.md](doc/app/RabbitMQ/readme.md)
###  б) Прописать в коде вызов метода отправки уведомления.
   См. документацию по RabbitMQ [doc/app/RabbitMQ/readme.md](doc/app/RabbitMQ/readme.md)

## 5. Запустить код, где будет вызвана отправка сообщения
   Как вызывать метод который отправляет уведомление смотри в этой документации 
   [doc/app/Notificator/UsingNotificator.md](doc/app/Notificator/UsingNotificator.md)
   В материалах ниже рассказано как отправлять сообщение в чат или отдельному пользователю бота. 
   ID чата или пользователя можно прописать в поле tgId у пользователя проекта, используя который будете тестировать 
   отправку сообщений с телеграм бот

   В нашем проекте пользователь на котором тестируется отправка сообщения, должен
   иметь заполненное поле tgId, а также активную запись для уведомлений в телеграм
   в таблице user_channel

## 6. Особенности
   Перед работой с ботом рекомендуется почитать материалы ниже.
   Для более независимого тестирования лучше создать своего бота по инструкции из материалов ниже,
   чтобы не пересекались сообщения при совместном тестировании с другими программистами.

## 7. Материалы

1. Telegram Bot API
   `https://core.telegram.org/bots/api`

4. Курс по разработке ботов для Telegram на PHP
   `https://prog-time.ru/course_cat/telegram-bot-basic/`
 
7. Материалы (видео и статья) по созданию бота, которые использовались для создания бота

   `https://prog-time.ru/course/bot-v-telegram-2/`
 
10. Создание Telegram бота на PHP #3: примеры отправки сообщений с кнопками в Telegram
   `https://habr.com/ru/articles/697000/`
   `https://habr.com/ru/articles/697002/`

